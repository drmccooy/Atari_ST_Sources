ZORG, Copyright Ludovic Rousseau 1993, 1994



                             GENERAL



  ZORG est un programme entiŠrement GEM avec un beau menu, de chouettes ic“nes
et une belle souris. J'ai essay‚ de le programmer aussi proprement que j'ai pu
au niveau de la gestion des fenˆtres et du GEM en g‚n‚ral.
  Il devrait fonctionner avec n'importe quel ‚cran et avec n'importe quelle
version du TOS. Par exemple il marche trŠs bien avec MiNT et donc devrait
marcher sans problŠmes majeurs sur Falcon sous MultiTOS (le pied total). Vous
voulez une preuve ? H‚ bien je suis en train d'‚diter ce manuel dans une
fenˆtre TOSWIN (fenˆtre de texte sous MiNT) dans laquelle j'ai lanc‚ un shell
TCSH puis l'‚diteur elVIs (y'a pas mieux que 'vi' et j'emmerde ceux qui disent
le contraire [ouais moi aussi N.D.Correcteur)]) pour ‚diter le fichier alors
qu'en mˆme temps tourne ZORG. C'est super pratique pour v‚rifier que ce que je
d‚cris correspond bien … ce qui se passe vraiment dans la r‚alit‚ concrŠte de
tout les jours. Je voulais utiliser TWIST pour swaper entre deux applications
mais apparement TWIST ne supporte pas le TOS 1.04.

  Tout ‡… pour dire que c'est de la bonne (j'espŠre) programmation comme on
aimerait en voir plus souvent.
  Je ne gŠre pas directement la TT RAM du TT et Falcon mais il suffit de
modifier l'entˆte du programme pour qu'il utilise la TT RAM par d‚faut (avec
FILEINFO.CPX par exemple).
  Le programme devrait fonctionner en TT RAM si on ne se sert pas de l'accŠs
direct aux disques durs en utilisant la routine 'ZORG' qui n'est de toute fa‡on
pas utile sur TT puisque qu'il y a les fonctions DMAread() et DMAwrite(). Tout
le reste du programme ne fait pas d'accŠs direct aux p‚riph‚riques et devrait
donc pouvoir tourner en TT RAM sans problŠmes.


  Juste aprŠs le lancement du programme, un beau bureau apparaŒt.
  Il y a une barre de menu, des ic“nes et une fenˆtre de texte.

  Les ic“nes repr‚sentent ‚videmment les lecteurs (disquettes, disque(s)
dur(s), CD ROM et autre disque(s) virtel(s) et choses du mˆme genre). Il y a au
maximum 16 lecteurs (de A … P). Au lancement, le lecteur actif est s‚lectionn‚.
On choisit un lecteur en cliquant dessus ou en entrant sa lettre au
clavier.


  La fenˆtre principale sert … afficher tout les messages d'ordre g‚n‚ral ainsi
que les erreurs.

  Je ne vous expliquerai pas … quoi sert le menu. La majeur partie des entr‚es
du menu ont des ‚quivalents clavier. Les ‚quivalents clavier devraient ˆtre les
mˆmes sur un clavier QWERTY ou QWERTZ ou n'importe quoi d'autre. Ca veut dire
que pour quitter on fait un Alternate-Q en AZERTY ET en QWERTY et pas un
Alternate-A en QWERTY comme dans la plupart des programmes (par exemple Turbo C
ou le bureau du TT que j'ai r‚cup‚r‚ (pourtant ½ Atari Corp.)).


  Remarques amusantes sur le GEM :

  La premiŠre exp‚rience … faire est, lorsqu'un programme vous demande d'entrer
un texte dans une boite de dialogue, de donner comme premier caractŠre un '@'
(arobace en fran‡ais ou at en anglais). J'ai trouv‚ ‡a dans les articles trŠs
int‚ressant PROGEM (PROgrammation GEM) de Tim Oren.

  La deuxiŠme exp‚rience est, sous ZORG, de mettre plein de texte dans la
fenˆtre principale (en demandant plusieurs fois les informations d'un disque
par exemple) et de laisser la touche 'flŠche_vers_le_haut' appuy‚e pour remplir
assez le buffer du clavier. Vous relachez la touche et le d‚filement continu
tout seul. Jusque l… tout est normal. Maintenant on complique un peu. On se
remet … la fin du texte (avec 'Clr Home') et on recommence mais au lieu
d'attendre sans rien faire que le tampon se vide, on appuie sur Shift (aprŠs
relachement de ' flŠche_vers_le_haut ') et Oh miracle, le texte d‚file plus
vite.
  Tout ‡a pour dire que les touches (Shift, Control, Alternate) ne sont pas
bufferis‚es comme les autres touches. Leur ‚tat (au moment pr‚sent car non
buffuris‚) est lu par le GEM en mˆme temps qu'il lit une touche qui elle est
bufferis‚e. Une autre preuve est de lancer ZORG et de taper la touche d'un
lecteur avant que ZORG soit install‚. La touche est prise en compte. Maintenant
on relance ZORG et on tape Alternate-O, ZORG ne le prend pas car il ne re‡oit
que le O. Par contre si on tape O pendant le lancement et Alternate juste avant
que ZORG ait fini ses inititialisations ‡a marche, ‚tonnant non ?
