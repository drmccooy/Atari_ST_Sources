
     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


     NAME 
          zoo - Erzeugt und Bearbeitet Bibliotheken aus gepackten Dateien 

     SYNTAX 
          zoo {acDehlLPTuUvx} [bcdEfIMnNoOpPquv1:./@] Archiv [Datei] ...  
          zoo -Kommando Archiv [Datei] ...  
          zoo h 

     BESCHREIBUNG 
          Mit  zoo  koennen Bibliotheken (Archive) von Dateien in gepackter
          Form erzeugt werden.    Dabei  wird  ein  Lempel-Ziv  Algorithmus
          verwendet,  der  je  nach  Dateiinhalt  von  20% bis zu 80% Platz
          einspart.  

          Das Kommando  zoo h zeigt  eine  Zusammenfassung  der  moeglichen
          Kommandos.  

          zoo  archivert  nicht  das  erzeugte  Archiv  selbst  oder dessen
          Sicherheitskopie  (die Datei mit der Endung .bak).  

          zoo   hat   zwei   Arten    von    Kommandosaetzen.    Einerseits
          Expertenkommandos, die aus einem Kommandobuchstaben und eventuell 
          einem   oder   mehreren  zusaetzlichen  Buchstaben  bestehen  und
          andererseits Anfaengerkommandos, die aus  einem  Bindestrich  und
          einem folgenden  Befehlswort  bestehen.    Das  Befehlswort  darf
          hierbei abgekuerzt werden und kann in Gross- oder Kleinschreibung 
          eingegeben  werden,  hingegen  wird  bei  Expertenkommandos   die
          Schreibweise unterschieden ( Siehe auch Anmerkung zu zooshell ).  

          Wenn  zoo  eine  Datei in ein bestehendes Archiv einfuegt, werden
          bereits  vorhandene  Dateien  gleichen   Namens   als   geloescht
          markiert.  (Pfadnamen werden in diesem Fall nur geprueft, wenn im 
          Archiv  auch die Pfadnamen abgespeichert sind.) Diese geloeschten
          Dateien koennen spaeter entweder wieder restauriert werden   oder
          mit  dem Packkommando kann der Platz, den die geloeschten Dateien
          belegen, wieder freigegeben werden.  

          Alle Kommandos  ergaenzen,  falls  keine  Archivendung  angegeben
          wird, den Archivnamen mit .zoo.  

















                                      -1-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


                               Die Anfaengerkommandos


          Die  Anfaengerkommandos  bestehen  aus einem Bindstrich und einem
          Befehlswort, das abgekuerzt werden kann.  Jedes Anfaengerkommando 
          wird in zwei Schritten  abgearbeitet.  Zunaechst fuehrt  zoo  das
          gewuenschte  Kommando  aus  und  anschliessend  wird  das Archive
          gepackt,  falls durch das Kommando Dateien als geloescht markiert 
          wurden.  In diesem Fall wird immer eine Sicherheitskopie mit  der
          Endung .bak erzeugt.  

          Kein Anfaengerkommando speichert den Pfadnamen mit in das Archiv. 
          Daher werden beim Anfuegen von Dateien in ein bestehendes Archiv, 
          bereits  im    Archiv  vorhandene  Dateien  gleichen  Namens, als
          geloescht markiert.  Der Pfadname wird  in  diesem  Fall    nicht
          beachtet.  


          Folgende Anfaengerkommandos stehen zur Verfuegung: 

          -add 
               Nimmt die Angegebenen Dateien in das Archiv auf.  

          -delete 
               Loescht die angegebenen Dateien in dem Archiv.  

          -freshen 
               Erneuert  die  bestehenden  Dateien  im Archiv, falls neuere
          Versionen vorliegen.  

          -update 
               Nimmt neue Dateien in das Archiv auf.  Falls bereits Dateien 
          gleichen  Namens  im  Archiv  stehen,  werden  sie  durch  neuere
          Versionen ersetzt.  

          -extract 
               Liest die  angegebenen  Dateien  aus dem Archiv aus.  Werden
          keine Dateinamen angegeben, werden alle Dateien ausgelesen.  

          -move 
               Entspricht dem -add Kommando, jedoch werden die Quelldateien 
          anschliessend geloescht.  

          -print 
               Entspricht dem -extract Kommando, jedoch  werden  die  Daten
          auf   die   Standardaussgabe   geschrieben   (normalerweise   der
          Bildschirm).  

          -list 
               Zeigt den  Inhaltsverzeichniseintrag  fuer  die  angegebenen
          Dateien,  einschliesslich eventuell vorhandener Kommentare. Falls
          kein Dateiname angegeben ist, werden alle Eintraege gezeigt.  Als 
          geloescht markierte Dateien werden nicht angezeigt.  



                                      -2-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


          -test 
               Entspricht dem -extract Kommando, jedoch  werden  die  Daten
          nicht abgespeichert.    Lediglich  Fehlermeldungen, die eventuell
          auftreten, werden angezeigt.  

          -comment 
               Erlaubt es zu den angegebenen Dateien einen  bis  zu  65,535
          Zeichen  grossen  Kommentar  in das Archiv aufzunehmen oder einen
          bestehenden Kommentar  abzuaendern.    Der   Benutzer   hat   die
          Moeglichkeit  nach dem `|' direkt ein Return einzugeben, um diese
          Datei zu ueberspringen oder den Kommentar einzugeben.   Das  Ende
          der  Eingabe  ist  mit  einem  /end (Gross- oder Kleinschrift) zu
          Beginn einer  neuen  Zeile  erreicht.    Wird  die  Eingabe   mit
          end-of-file   (CONTROL-Z)   signalisiert,  werden  die  folgenden
          Dateien uebersprungen.  

          -delete 
               Loescht die angegebenen Dateien.  


          Die Anfaengerkommandos entsprechen folgenden Expertenkommandos: 


                  -add                              aP:       
                  -extract                          x         
                  -move                             aMP:      
                  -test                             xNd       
                  -print                            xp        
                  -delete                           DP        
                  -list                             v         
                  -update                           aunP:     
                  -freshen                          auP:      
                  -comment                          c         























                                      -3-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


                                Die Expertenkommandos


          Die allgemeine Form der Expertenkommandos ist: 

           zoo {acDehlLPTuUvx} [bcdEfIMnNoOpPquv1:./@] Archiv [Datei] ...

          Die Zeichen innerhalb {} sind Kommandos, von  denen  genau  eines
          angegeben werden   muss.      Die   Zeichen   innerhalb  []  sind
          zusaetzliche Optionen, die nicht angegeben werden muessen.   Hier
          sind  auch  mehrere Optionen gleichzeitig zugelassen, nicht immer
          jedoch ist eine Kombination auch sinnvoll.  


          Dateien werden mit folgendem Kommando in das Archiv aufgenommen: 

                       zoo {au} [cfIMnPqu:] Archiv [Datei] ...

          Kommandosbuchstaben sind: 

          a 
               Fuege die angegebenen Dateien in das Archiv  ein.    Bereits
          vorhandene Dateien mit gleichem Namen werden geloescht.  

          u 
               Erneuere  die  angegebenen  Dateien im Archiv. Noch nicht im
          Archiv vorhandene Dateien werden aufgenommen.  

          Die folgenden Optionen sind bei diesen Kommandos sinnvoll: 

          M 
               Loesche nach dem Einfuegen in das Archiv  die  Quelldateien.
          Die  Loeschoperation wird nach der Aufnahme  aller Dateien in das
          Archiv durchgefuehrt, falls dabei kein Fehler aufgetreten ist.  

          n 
               Fuege nur  Dateien  ein,  wenn  sie  noch  nicht  im  Archiv
          vorhanden sind.  

          P 
               Packe  anschliessend  das  Archiv und entferne als geloescht
          markierte Dateien.  

          u 
               Identisches Verhalten wie das `u' Kommando.  

          : 
               Speichere die Pfadnamen nicht mit in das Archiv ab.    Fehlt
          diese Option, werden die kompletten Pfadnamen jeder Datei, ausser 
          einem   eventuell   vorhandenen   Laufwerksnamen  in  das  Archiv
          aufgenommen.  

          I 
               Lese die Dateinamen  von  Standardeingabe.    zoo  liest  in


                                      -4-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


          diesem  Fall  die  Dateinamen  von Standardeingabe (normalerweise
          Tastatur)  und  erwartet,  dass  jede  Zeile   einen   kompletten
          Dateinamen enthaelt.   Mit einem  Kommandlineinterpreter oder der
          zooshell kann die Eingabe auch aus einer Datei gelesen werden.  ( 
          Siehe Beschreibung der zooshell ) Falls die  Option  `I'  gesetzt
          ist,  darf  in  der Kommandozeile selbst kein Dateiname angegeben
          werden.  


          Dateien  werden  mit  folgenden  Kommandos   aus   einem   Archiv
          ausgelesen: 

                       zoo {ex}[dNoOpq./@] Archiv [Datei] ...

          Das   e  und  x  Kommando  sind  gleich  bedeutend.   Falls keine
          spezielle Datei angegeben ist, werden alle Dateien ausgelesen.  


          N 
               Die ausgelesenen Daten werden  nicht  abgespeichert,  jedoch
          eventuell beim Auslesen auftretende Fehler werden gemeldet.  

          O 
               Bereits  existierende  Dateien werden durch das Auslesen von
          Dateien gleichen Namens ueberschrieben.  Ohne diese  Option  wird
          automatisch nachgefragt,  ob  ueberschrieben  werden  soll.    In
          diesem Fall kann mit `y' ueberschrieben  werden,  mit  `n'  nicht
          ueberschrieben  werden,  oder  mit  `a'  alle, auch die folgenden
          Dateien ueberschrieben werden.  

          Die Optionen `O', `N' und `p' schliessen sich gegenseitig aus.  

          o 
               Falls  diese  Option  mindestens  doppelt  angegeben   wird,
          entspricht sie der `O' Option, andernfalls wird sie ignoriert.  

          p 
               Die  Ausgabe der Daten wird statt in die entsprechende Datei
          auf die Standardausgabe gelenkt.  

          / 
               Die erzeugten Dateien werden mit den gespeicherten Pfadnamen 
          ausgelesen.  Dabei  muessen  die  entsprechenden  Ordner  bereits
          existieren.   Fehlt diese Option werden alle Dateien im aktuellen
          Verzeichnis erzeugt.  Wird diese Option doppelt angegeben, werden 
          eventuell notwendige Ordner erzeugt.  


          Das  Inhaltsverzeichnis  eines  Archives   wird   mit   folgenden
          Kommandos erstellt: 


                         zoo {lLv}[adfv@] Archiv [Datei] ...



                                      -5-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


          l 
               Es   werden  vom  Verzeichniseintrag  neben  dem  Dateinamen
          angezeigt: Zeit und Datum, Original- und komprimierte Groesse und 
          Kompressionsfaktor, der mit CF  (compression  faktor)  bezeichnet
          ist.  

          L 
               Dieser Befehl ist identisch zum `l' Befehl, ausser dass alle 
          angegebenen Argumente Archivnamen sein muessen, von denen jeweils 
          ein Inhaltsverzeichnis erstellt wird.  

          v 
               Zusaetzlich   werden  in  den  erzeugten  Inhaltsverzeichnis
          eventuell vorhandene Kommentare angezeigt.  Wird das Kommando `l' 
          mit der Option `v' benutzt, hat dies den gleichen Effekt.  

          Mit   den   folgenden   Optionen    kann    die    Ausgabe    des
          Inhaltsverzeichnisses weiter beeinflusst werden: 


          a 
               Zusaetzlich  zur  Ausgabe  wird  in  jeder  Zeile  noch  der
          Archivname aufgefuehrt.  Bei mehreren  Archiven,  wird  nach  dem
          Archivnamen sortiert.  Dies ist nuetzlich, falls die Ausgabe noch 
          weiterbearbeitet  werden  soll  und ein groesseres Dateisystem zu
          verwalten.  


          Das  Loeschen  und  Restaurieren  von  als  geloescht  markierten
          Dateien erfolgt mit folgenden Kommandos: 

                           zoo {DU}[Pq1] Archiv Datei ...

          Das D Kommando loescht die angegebenen Dateien und das U Kommando 
          restauriert die geloeschten Dateien. Falls die Option 1 (die Zahl 
          eins  nicht der Buchstabe ell) angegeben ist, wird immer nur eine
          Datei bearbeitet.  Dies ist nuetzlich, wenn mehrere  Dateien  mit
          gleichem Namen vorhanden sind.  


          Kommentare  lassen  sich  mit  folgendem  Kommando  in das Archiv
          aufnehmen: 

                              zoo c Archiv [Datei] ...

          Dieses    Kommando     entspricht     ganz     dem     `-comment'
          Anfaengerkommando.  


          Der  Zeit-  und  Datumsstempel  der  Archivdatei  laesst sich mit
          folgendem Kommando veraendern: 

                                   zoo T[q] Archiv



                                      -6-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


          zoo  versucht  normalerweise  den  Zeit-  und  Datumsstempel  des
          Archives  auf den Stand der juengsten Datei im Archiv zu bringen.
          Sollte dieser Wert unsinnige Ergebnisse bringen,  kann  dies  mit
          diesem Kommando  behoben werden.  


          Ein Archiv kann mit folgendem Kommando gepackt werden: 

                                  zoo P[EPq] Archiv

          Falls  schon  eine  Sicherheitskopie des Archives existiert, kann
          nur mit der zusaetzlichen Option P der  Packvorgang,  d.h.    das
          Loeschen   von  als  geloescht  markierten  Dateien,  eingeleitet
          werden.  Die  Option  E  veranlasst  zoo  keine  Sicherheitskopie
          anzulegen.    Der   Packvorgang   selbst   arbeitet   mit   einer
          Zwischenkopie  des  Archives  im  aktuellen  Verzeichnis.   Diese
          Zwischenkopie  wird nicht geloescht, falls beim Packen ein Fehler
          oder ein Abbruch auftritt.  

          Das Packen entfernt  zusaetzlich  Datenmuell  am  Dateiende,  der
          durch Xmodem-Uebertragungen  entstanden  ist.    Ausserdem werden
          unbenutzte Kommentare aus dem Archiv gestrichen.  


          Allgemeine Optionen: 

          Die folgenden Optionen koennen bei mehreren Kommandos  angewendet
          werden: 


          c 
               Anwendbar  auf  a und u  Kommandos. Hier wird zu jeder Datei
          ein Kommentar eingelesen.  Falls eine  Datei  im  Archiv  ersetzt
          wurde,  wird  der  alte  Kommentar  angezeigt und kann  geaendert
          werden.  Anschliessend wird der  Kommentar  zu  der  neuen  Datei
          abgespeichert.   Zusaetzlich  zum  l  Kommando angewendet, werden
          eventuell vorhandene Kommentare im Inhaltsverzeichnis angezeigt.  

          .  
               Eventuelle Pfadnamen aus dem Archiv werden ab dem  aktuellen
          Pfad ausgewertet.    Diese Option ist nur sinnvoll mit der Option
          `/' oder `//'.  Zusatzlich zum Kommando   P    angegeben,  werden
          Zwischendateien im  aktuellen Verzeichnis angelegt.  Dies erlaubt
          es bei geringem freiem Diskettenspeicherplatz, aber mit  mehreren
          Laufwerken grosse Archive zu packen.  

          d 
               Die  meisten  Kommandos  arbeiten nur mit Dateien, die nicht
          als geloescht markiert sind.   Mit  der  d  Option  arbeiten  die
          Kommandos  sowohl mit geloeschten, als auch mit normalen Dateien.
          Wird diese Option doppelt angegeben ( dd ) arbeiten die Kommandos 
          nur mit geloeschten Dateien aus dem Archiv.  




                                      -7-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


          f 
               Angewendet auf das a  oder  das  u  Kommando  bewirkt  diese
          Option  ein  schnelles  Einlesen  in das Archiv ohne Kompression.
          Angewendet bei dem l Kommando bewirkt diese Option  die  schnelle
          Ausgabe des Inhaltsverzeichnisses im einem Mehrspaltenformat.  

          q 
               Normalerweise   zeigt   zoo   den   Dateinamen   der  gerade
          bearbeiteten Datei an.  Nach dieser Option erfolgt diese  Anzeige
          nicht mehr.  Wird auf Standardausgabe ausgelesen, kann mit dieser 
          Option auch der Nachrichtenkopf unterdrueckt werden.  

          Fehlermeldungen lassen sich aber nicht unterdruecken.  


          @ 
               Das  Auslesen von Dateien oder Inhaltsverzeichnissen beginnt
          an der Position n, wobei n eine Dezimalzahl ist, die direkt  nach
          der `@' Option stehen muss.  Dieses Kommando kann benutzt werden, 
          Daten  aus  teilweise  zerstoerten  Archiven zu retten, indem die
          defekten Teile  uebersprungen  werden.    Die  Zahl  n  gibt  die
          Position  des  intakten Verzeichniseintrags im Archiv an und kann
          mit  fiz erhalten werden.  ( Siehe Anleitung zu  fiz ).  

          b 
               Zusaetzlich  kann  auf  dem  Atari  ST  das  Archivbit  beim
          Einlesen von   Dateinamen   beruecksichtigt   werden.    Bei  den
          Kommandos a oder  u  werden  bei  gesetzter  Option  Dateien  mit
          gesetzem Archivbit  nicht  beruecksichtigt.  Allerdings wird ohne
          diese Option ein eventuell vorhandenes Archivbit nicht mit in das 
          Archiv  gerettet  und  somit  auch  nicht  beim  Auslesen  wieder
          gesetzt.  ( Siehe ausfuehrliche Beschreibung bei ATARI.DOC ).  
























                                      -8-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


                                Das Wildcard Konzept


          Unter  **ix  und  seinen Abkoemmlingen wird normalerweise von dem
          aufrufenden Programm (der Shell)  die  Kommandozeile  ausgewertet
          und   fuer   Wildcards  eine  Liste  der  entsprechenden  Dateien
          eingesetzt.  Unter MS-DOS, AmigaDOS und Atari TOS ist dies  nicht
          der   Fall.   Hier   wird   von   zoo  die  Kommandozeile  selbst
          ausgewertet.    Um   weitergehende   Moeglichkeiten    als    die
          betreffenden  Betriebsysteme  zu  haben,  wird  aehnlich dem **ix
          Wildcard Konzept  verfahren.      Die   ausgewerteten   Wildcards
          (Dateijoker) sind im folgenden aufgelistet: 


          * 
               Ersetzt keine oder mehrere beliebige Zeichen.  

          ?  
               Ersetzt genau ein Zeichen.  

          / 
               Falls  ein Suchmuster einen Schraegstrich enthaelt, ist dies
          ein Teil eines Pfadnamens und muss in den  zu  suchenden  Dateien
          explizit an  dieser  Stelle  vorkommen.   Falls ein Argument fuer
          einen  Dateinamen  aus  der  Kommandozeile  keinen  Schraegstrich
          enthaelt, wird  ein  Dateiname ohne Pfad angenommen.  Unter Atari
          TOS sind statt / auch \ als Ordnertrennzeichen erlaubt.  

          c-c 
               Zwei durch einen Bindestrich getrennte Zeichen stellen einen 
          Zeichenbreich dar.  Alle Dateinamen, die mit  einem  Zeichen  aus
          diesem Bereich  beginnen,  passen  auf  dieses  Suchmuster.   Der
          Zeichenbereich wird nur ausgewertet,  wenn  er  allein  oder  mit
          voranstehendem Pfadnamen  angegeben  ist.  Als Teil eines anderen
          Suchmusters kann dieses Wildcard nicht benutzt werden.  

          MS-DOS und Atari TOS Benutzer sollten beachten,  dass  ein  Punkt
          von  zoo  nicht  als  spezielles  Zeichen behandelt wird und dass
          Zeichen hinter einem Stern (*) nicht ignoriert werden.  So findet 
          ein Wildcard * alle Dateinamen; ein  Wildcardausdruck  *.*    nur
          Dateinamen  mit  einem  Punkt;  *_*  findet  alle Namen mit einem
          Unterstrich und *z findet  alle  Dateinamen  die  mit  einem  `z'
          enden, egal ob mit oder ohne Punkt.  













                                      -9-


     ZOO (1)                 Atari ST Dokumentation                 ZOO (1)


     WEITERE HINWEISE 
          Siehe unter zooshell, fiz, booz, fnams 

     BUGS 
          Die Standardeingabe  kann nicht archiviert werden.  Auch kann das
          erzeugte Archiv nicht auf Standardausgabe umgeleitet werden.  
          Vereinzelt treten Fehlermeldungen auf,  wenn  der  Archivname  zu
          lang ist.  
          Da zoo niemals Dateien mit dem gleichen Namen archiviert, wie das 
          Archiv selber oder dessen Sicherheitskopie, egal welcher Pfadname 
          auch  verwendet  wird, sollte man mit Dateiendungen wie .bak oder
          .zoo vorsichtig sein.  
          Nur regulaere Dateien werden archiviert, keine Laufwerkskennungen 
          oder Geraete.  

     FEHLERMELDUNGEN 
          Die Fehlermeldungen benuehen sich selbsterklaerend zu sein.    Es
          werden  je  nach  Schwere  des  Fehlers  drei Arten von Meldungen
          unterschieden: 

               WARNINGS informieren den Anwender ueber eine  ungewoehnliche
          Situation,  beispielsweise  einen  Pruefsummenfehler  (CRC-Error)
          oder wenn ein `-freshen' Kommando keine neueren Dateien findet.  
               ERRORS sind fatal fuer die gerade behandelte  Datei,  jedoch
          versucht zoo mit den weiteren Dateien regulaer weiterzuarbeiten.  
               FATALS   sind  so  schwere  Fehler,  dass  der  Programmlauf
          gestoppt wird.  

          Das  Auftreten  eines  dieser  Fehler  laesst   sich   an   einem
          Rueckgabewert ungleich  0  feststellen.  Das normale Programmende
          ohne Fehler gibt den Wert 0 zurueck.  

     AUTOR 
          Rahul Dhesi 
          Atari ST Anpassung und deutsche Dokumentation von Stefan Brueck 





















                                      -10-

